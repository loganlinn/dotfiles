#!/usr/bin/env sh
#
# dunst-snooze - temporarily pause dunst
#
# Usage:
#   dunst-snooze [duration]
#

_delay="${1:-${DUNST_SNOOZE_DURATION:-9m}}"

logger "$0[$$]: Snoozing dunst for ${_zzz_duration}..."
dunstctl set-paused true

nohup sh -s stdin <<-EOM >/dev/null 2>&1 & 
  logger "$0[\$\$]: Snooze initated by [$$] ...zzz"
  sleep "$_delay";
  dunstctl set-paused false;
  logger '$0[\$\$]: Snooze complete.'" 
EOM

exit 0
